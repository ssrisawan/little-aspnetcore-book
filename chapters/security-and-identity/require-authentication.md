## บังคับใช้การพิสูจน์ตัวจริง

โดยทั่วไป เรามักต้องการให้ผู้ใช้ต้องล็อกอินเข้าระบบก่อนที่จะสามารถเข้าถึงบางส่วนของแอปพลิเคชันของเราได้ ตัวอย่างเช่นการเปิดให้ทุกคนเข้าถึงหน้าแรกของแอปพลิเคชันได้ (ไม่ว่าจะล็อกอินแล้วหรือยังก็ตาม) แต่จะเปิดให้เข้าถึงรายการสิ่งที่ต้องทำของผู้ใช้ได้หลังจากล็อกอินแล้วเท่านั้น

เราสามารถใช้คุณลักษณะ `[Authorize]` ใน ASP.NET Core เพื่อกำหนดให้ผู้ใช้ที่ล็อกอินแล้วเท่านั้นจึงจะมีสิทธิดำเนินการบางอย่างหรืออาจบังคับใช้กับทั้ง controller ก็ได้ ในการกำหนดให้ทุกแอคชันของ controller `TodoController` ต้องผ่านการพิสูจน์ตัวจริง ให้เพิ่มคุณลักษณะดังกล่าวไว้ก่อนบรรทัดแรกของ controller:

**Controllers/TodoController.cs**

```csharp
[Authorize]
public class TodoController : Controller
{
    // ...
}
```

ให้เพิ่มคำสั่ง `using` ต่อไปนี้ไว้ที่ตอนต้นของไฟล์:

```csharp
using Microsoft.AspNetCore.Authorization;
```

ลองรันแอปพลิเคชันแล้วเปิดไปที่ `/todo` โดยไม่ต้องล็อกอิน จะพบว่าเราถูกพาไปยังหน้าล็อกอินโดยอัตโนมัติ

> ในที่นี้ คุณลักษณะ `[Authorize]` ทำหน้าที่พิสูจน์ตัวจริงเท่านั้น ยังไม่เกิดการกำหนดสิทธิ (authorization) ใด ๆ แม้ว่าคุณลักษณะนี้มีชื่อเดียวกันกับการกำหนดสิทธิก็ตาม แต่เราจะได้ใช้คุณลักษณะนี้เพื่อดำเนินการทั้ง **พิสูจน์ตัวจริงและกำหนดสิทธิ** ในภายหลัง
