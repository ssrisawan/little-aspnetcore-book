## สร้างโปรเจกต์ ASP.NET Core
ถ้าคุณยังอยู่ในไดเรกทอรีที่ถูกสร้างขึ้นสำหรับตัวอย่าง Hello World ให้ย้อนกลับไปยังไดเรกทอรี Documents หรือโฮมไดเรกทอรีของคุณ:

```
cd ..
```

จากนั้น ให้สร้างไดเรกทอรีใหม่แล้วเข้าไปในไดเรกทอรีนั้น:

```
mkdir AspNetCoreTodo
cd AspNetCoreTodo
```

เสร็จแล้วให้สร้างโปรเจกต์ใหม่ด้วยคำสั่ง  `dotnet new` โดยระบุตัวเลือกเพิ่มเติมดังนี้:

```
dotnet new mvc --auth Individual -o AspNetCoreTodo
cd AspNetCoreTodo
```

คำสั่งนี้จะสร้างโปรเจกต์ใหม่จากเทมเพลต `mvc` พร้อมทั้งเพิ่มส่วนของการพิสูจน์ตัวตนและความปลอดภัยเข้าไปในโปรเจกต์ (รายละเอียดด้านการรักษาความปลอดภัยจะถูกกล่าวถึงต่อไปในบท *Security and identity*)

>  คุณอาจแปลกใจว่าทำไมต้องมีไดเรกทอรีชื่อ `AspNetCoreTodo` ภายใต้ไดเรกทอรี `AspNetCoreTodo` อีกชั้น ไดเรกทอรีชั้นบนสุดหรือ "ราก" สามารถเก็บไดเรกทอรีอื่น ๆ ของโปรเจกต์ได้หลายไดเรกทอรี ในบางครั้งจะเรียกไดเรกทอรีรากนี้ว่า **solution directory** ซึ่งหลังจากนี้ คุณจะได้เพิ่มไดเรกทอรีอื่น ๆ ของโปรเจกต์ไว้ในระดับเดียวกันกับไดเรกทอรี `AspNetCoreTodo` โดยทั้งหมดนี้จะอยู่รวมกันภายใต้ไดเรกทอรีรากของโซลูชันเพียงไดเรกทอรีเดียว

คุณจะพบว่ามีไฟล์ต่าง ๆ หลายไฟล์ปรากฏขึ้นในไดเรกทอรีของโปรเจกต์ หลังจาก `cd` เข้าไปในไดเรกทอรีใหม่นี้แล้ว ก็สามารถรันโปรเจกต์ได้ด้วยคำสั่งนี้:

```
dotnet run

Now listening on: http://localhost:5000
Application started. Press Ctrl+C to shut down.
```

โปรแกรมนี้จะเริ่มการทำงานของเว็บเซอร์ฟเวอร์และรอรับการเชื่อมต่อที่พอร์ต 5000 แทนการแสดงผลออกไปยังคอนโซล

เมื่อเปิดเว็บเบราว์เซอร์แล้วเปิดไปที่ `http://localhost:5000` คุณจะพบกับหน้าต้อนรับ (splash page) ซึ่งหมายความว่าโปรเจกต์ของคุณใช้งานได้! จากนั้นให้กด Ctrl-C ในหน้าต่างเทอร์มินัลเพื่อหยุดการทำงานของเซอร์ฟเวอร์

### ส่วนประกอบของโปรเจกต์ ASP.NET Core
เทมเพลต `dotnet new mvc` จะสร้างไฟล์และไดเรกทอรีขึ้นมาจำนวนมาก โดยไฟล์และไดเรกทอรีที่จำเป็นต่อการทำงานในขั้นต่อไปมีดังนี้:

* ไฟล์ **Program.cs** และ **Startup.cs** จะตั้งค่าเว็บเซอร์ฟเวอร์และไปป์ไลน์ของ ASP.NET Core โดยคลาส `Startup` คือส่วนที่คุณสามารถเพิ่มมิดเดิลแวร์เพื่อรองรับและแก้ไขคำขอที่เข้ามา รวมถึงให้บริการเนื้อหาคงที่ (static content) และหน้าแสดงข้อผิดพลาด และยังเป็นจุดที่ใช้เพิ่มบริการต่าง ๆ ของคุณเข้าไปยังคอนเทนเนอร์สำหรับ dependency injection (ซึ่งจะอธิบายเพิ่มเติมในภายหลัง)

* ไดเรกทอรี **Models**, **Views** และ **Controllers** ใช้เก็บส่วนประกอบต่าง ๆ อขงสถาปัตยกรรม Model-View-Controller (MVC) ซึ่งจะถูกกล่าวถึงในบทต่อไป

* ไดเรกทอรี **wwwroot** ใช้เก็บทรัพยากรคงที่ต่าง ๆ เช่นไฟล์ CSS, JavaScript และไฟล์รูปภาพ โดยไฟล์ต่าง ๆ ใน `wwwroot` จะให้บริการเป็นเนื้อหาคงที่ และสามารถถูกบันเดิลและลดขนาดได้โดยอัตโนมัติ 

* ไฟล์ **appsettings.json** ใช้เก็บการกำหนดค่าต่าง ๆ ที่ ASP.NET Core จะโหลดขึ้นมาขณะเริ่มการทำงาน คุณสามารถจัดเก็บสตริงสำหรับการเชื่อมต่อฐานข้อมูลและรายการต่าง ๆ ที่ไม่ต้องการระบุไว้โดยตรงในโค้ด

### เคล็ดลับสำหรับ Visual Studio Code

หากคุณเพิ่งเริ่มใช้ Visual Studio Code เป็นครั้งแรก เคล็ดลับต่อไปนี้อาจช่วยให้คุณเริ่มใช้งานได้ง่ายขึ้น:

* **เปิดโฟลเดอร์รากของโปรเจกต์**: ใน Visual Studio Code เลือก File - Open หรือ File - Open Folder แล้วเปิดโฟลเดอร์ `AspNetCoreTodo` (ไดเรกทอรีราก) ไม่ใช่ไดเรกทอรีที่อยู่ด้านในโปรเจกต์ หาก Visual Studio Code มีข้อความบอกให้ติดตั้งไฟล์ที่ขาดหายไป ให้คลิก Yes เพื่อเพิ่มไฟล์เหล่านั้น

* **กด F5 เพื่อรัน (และดีบักจุดพัก)**: เมื่อโปรเจกต์ถูกเปิดอยู่ การกด F5 จะรันโปรเจกต์ในโหมดดีบัก ซึ่งมีผลเช่นเดียวกับการรัน `dotnet run` บนบรรทัดคำสั่ง แต่มีข้อดีที่สามารถกำหนดจุดพัก (breakpoint) ในโค้ดได้ด้วยการคลิกที่ขอบด้านซ้าย:

![จุดพัก (breakpoint) ใน Visual Studio Code](breakpoint.png)

* **หลอดไฟแก้ปัญหา**: ถ้าโค้ดของคุณมีเส้นหยักสีแดง (มีข้อผิดพลาดจากการคอมไพล์) ให้วางเคอร์เซอร์ตรงโค้ดที่มีสีแดงและมองหาไอคอนหลอดไฟบนขอบซ้ายของจอภาพ เมนูหลอดไฟจะแนะนำการแก้ไขที่พบบ่อย เช่นการเพิ่มคำสั่ง `using` ที่ขาดหายไปจากโค้ดของคุณ:

![คำแนะนำของเมนูหลอดไฟ](lightbulb.png)

* **คอมไพล์อย่างรวดเร็ว**: ใช้แป้นทางลัด `Command-Shift-B` หรือ `Control-Shift-B` เพื่อเริ่มการบิลท์ ซึ่งจะมีผลเช่นเดียวกับคำสั่ง `dotnet build`

> เคล็ดลับเหล่านี้สามารถประยุกต์ใช้กับ Visual Studio (ที่ไม่ใช่ Code) บนวินโดวส์ได้เช่นกัน สำหรับ Visual Studio คุณจะต้องเปิดไฟล์โปรเจกต์ `.csproj` โดยตรง หลังจากนั้น Visual Studio จะขอให้บันทึกไฟล์ Solution ซึ่งควรบันทึกไว้ในไดเรกทอรีราก (ไดเรกทอรี `AspNetCoreTodo` ที่สร้างตอนแรก) หรือคุณสามารถสร้างโปรเจกต์ ASP.NET Core โดยตรงภายใต้ Visual Studio ก็ได้โดยใช้เทมเพลตในเมนู File - New Project.

### หมายเหตุเกี่ยวกับ Git

หากคุณใช้ Git หรือ GitHub เพื่อจัดการซอร์สโค้ด ตอนนี้เป็นเวลาที่ดีที่จะรัน `git init` เพื่อสร้าง Git repository ไว้ในไดเรกทอรีรากของโปรเจกต์:

```
cd ..
git init
```

โปรดตรวจสอบให้แน่ใจว่าคุณได้เพิ่มไฟล์ `.gitignore` ให้ละเว้นไดเรกทอรี `bin` และ `obj` ทั้งนี้ repo เทมเพลต gitignore สำหรับ Visual Studio บน GitHub (https://github.com/github/gitignore) ก็สามารถใช้งานได้ดี

ยังมีสิ่งต่าง ๆ ให้สำรวจอีกมากมาย มาเริ่มลงมือและสร้างแอปพลิเคชันกันเถอะ!
